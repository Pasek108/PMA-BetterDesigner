"use strict";function applyScreenshotMode(){screenshotMode();new MutationObserver(screenshotMode).observe(BetterDesigner.page_content,{childList:1})}function screenshotMode(){if(!BetterDesigner.isOnDesignerPage())return;1>document.querySelectorAll(".better-designer-modal").length&&(BetterDesigner.modal=new Modal);const e=document.querySelector("#name-panel");if(e.querySelectorAll(".screenshot").length>0)return;const t=document.createElement("link");t.rel="stylesheet",t.href="BetterDesigner/Styles/screenshot_mode.css",document.head.appendChild(t);const n=document.createElement("button");n.className="screenshot",n.title="Open screenshot mode",n.addEventListener("click",openScreenshotMode),window.addEventListener("keydown",closeScreenshotMode),e.appendChild(n),setTimeout((()=>{const e=document.createElement("img");e.src="BetterDesigner/Images/camera-icon.png",n.appendChild(e)}),500)}function openScreenshotMode(){BetterDesigner.drag_target=window,document.body.style.overflow=null,document.body.style.backgroundColor="white",document.querySelectorAll("body > *:not(#page_content):not(.better-designer-modal)").forEach((e=>e.style.display="none")),document.querySelector("#name-panel").style.display="none",document.querySelector("#side_menu").style.display="none",document.querySelector("#canvas_outer").style.cssText="\n    position: absolute !important;\n    top: 0 !important;\n    left: 0 !important;\n    z-index: 999 !important;\n    min-width: 100vw !important;\n    min-height: 100vh !important;\n  ",BetterDesigner.settings.drag_scrolling&&BetterDesigner.canvas_node.style.setProperty("cursor","grab","important"),BetterDesigner.modal.openModal("screenshot_mode")}function closeScreenshotMode(e){if("Escape"!=e.key)return;BetterDesigner.drag_target=BetterDesigner.canvas_node;const t=$("#pma_navigation").innerWidth(),n=$("#floating_menubar").innerHeight(),o=$("#name-panel").innerHeight();document.body.style.overflow="hidden !important",document.body.style.backgroundColor=null,document.querySelectorAll("body > *:not(#page_content):not(.better-designer-modal)").forEach((e=>e.style.display=null)),document.querySelector("#name-panel").style.display=null,document.querySelector("#side_menu").style.display=null,document.querySelector("#canvas_outer").style.cssText=`\n    overflow: scroll !important;\n    width: calc(100vw - ${t+3}px) !important;\n    height: calc(100vh - ${n}px - ${o}px) !important;\n    background: white !important;\n  `,BetterDesigner.settings.drag_scrolling&&BetterDesigner.canvas_node.style.setProperty("cursor","grab","important")}